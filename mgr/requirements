package GlastSvc
version v1r4

branches src mgr doc

use instrument 
use data 
use GlastEvent

#use GaudiSvc v4
#use Auditors v1
#use RootHistCnv v1r1

use GaudiSvc 
use GaudiAud 
use RootHistCnv 


library GlastSvc ../GlastSvc/GlastDetSvc/*.h ../GlastSvc/*.h \
                 GlastDetSvc/*.h  GlastDetSvc/*.cpp \
                 EventSelector/*.h  EventSelector/*.cpp \
                 ../GlastSvc/data/*.h data/*.h data/*.cpp \
		Dll/*.cpp 
            

macro GlastSvcDir  "$(GLASTSVCROOT)/$(DEBUGDIR)"

macro GlastSvc_linkopts   " " \
      LinuxStatic         "$(GlastSvcDir)/libGlastSvc.a -u GlastSvc_loadRef" \
      VisualCStatic       "$(GlastSvcDir)/libGlastSvc.lib /include:_GlastSvc_loadRef"

macro GlastSvc_stamps     ""                              \
      LinuxStatic         "$(GlastSvcDir)/GlastSvc.stamp" \
      LinuxStaticdbx      "$(GlastSvcDir)/GlastSvc.stamp" \
      VisualCStatic       "$(GlastSvcDir)/GlastSvc.stamp"

ignore_pattern include_none
apply_pattern package_include

#set   GlastSvcShr           "${GLASTSVCROOT}/${DEBUGDIR}/libGlastSvc"


private

include_path $(GLASTSVCROOT)


# note that the debug versions of the used libraries are inserted below

# for the moment, use libraryshr_linkopts to fix red hat 6.2 linking problem
#macro GlastSvc_shlibflags   "$(componentshr_linkopts) $(use_linkopts)" \
macro GlastSvc_shlibflags   "$(libraryshr_linkopts) $(use_linkopts)" \
                 VisualC  "$(componentshr_linkopts) $(use_linkopts) $(Win32Debug)"


# WinIncludes is to allow header files to be added to the 
# VC++ workspace, without causing build problems on unix

macro WinInclude1 "" VisualC "test/CreateEvent.h" 
macro WinInclude2 "" VisualC "test/jobOptions.txt"'

# build this for non-shareable testing
application test  test/*.cpp \
                  $(WinInclude1) $(WinInclude2) 

