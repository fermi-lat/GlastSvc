package GlastSvc
version v1

branches src mgr doc

use instrument v2r2
use Gaudi
use data 
use GlastEvent v1r1

use GaudiSvc v3r1

# this package is needed to write out to Root
use DbCnv v2r1


library GlastSvc ../GlastSvc/GlastDetSvc/*.h ../GlastSvc/*.h \
                 GlastDetSvc/*.h  GlastDetSvc/*.cpp \
                 EventSelector/*.h  EventSelector/*.cpp \
                 ../GlastSvc/MonteCarlo/*.h MonteCarlo/*.cpp \
                 ../GlastSvc/Irf/*.h Irf/*.cpp \
		../GlastSvc/Raw/*.h Raw/*.cpp \
		DbConverters/*.cpp DbConverters/*.h \
                 Dll/*.cpp 
            

macro GlastSvcDir  "$(GLASTSVCROOT)/$(DEBUGDIR)"

macro GlastSvc_linkopts   " " \
      LinuxStatic         "$(GlastSvcDir)/libGlastSvc.a -u GlastSvc_loadRef" \
      VisualCStatic       "$(GlastSvcDir)/libGlastSvc.lib /include:_GlastSvc_loadRef"

macro GlastSvc_stamps     ""                              \
      LinuxStatic         "$(GlastSvcDir)/GlastSvc.stamp" \
      LinuxStaticdbx      "$(GlastSvcDir)/GlastSvc.stamp" \
      VisualCStatic       "$(GlastSvcDir)/GlastSvc.stamp"


set   GlastSvcShr           "${GLASTSVCROOT}/${DEBUGDIR}/libGlastSvc"


private

include_path $(GLASTSVCROOT)

# this for MSVCC, to fix incompatibilities, turn off warnings
macro_append cppflags ""\
       VisualC " /FI$(ntconfigfile)" 

# note that the debug versions of the used libraries are inserted below

macro GlastSvc_shlibflags   "$(componentshr_linkopts) $(use_linkopts)" \
                 VisualC  "$(componentshr_linkopts) $(use_linkopts) $(Win32Debug)"


# WinIncludes is to allow header files to be added to the 
# VC++ workspace, without causing build problems on unix
macro WinIncludes "" \
      VisualC     " ../GlastSvc/GlastDetSvc/*.h ../GlastSvc/*.h \
                    GlastDetSvc/*.h EventSelector/*.h \
                    ../GlastSvc/MonteCarlo/*.h ../GlastSvc/Irf/*.h \
                    DbConverters/*.h ../GlastSvc/Raw/*.h \
                    test/*.h test/*.txt "

# build this for non-shareable testing
# note the addition of Raw. Take out shortly.
application test  GlastDetSvc/*.cpp EventSelector/*.cpp \
                  MonteCarlo/*.cpp Irf/*.cpp DbConverters/*.cpp \
                  Raw/*.cpp Dll/*.cpp test/*.cpp \
                  ${WinIncludes} 

